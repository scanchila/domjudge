<nav class="navbar navbar-expand-md navbar-light fixed-top" style = "background-color: #002855;">
    <a class="navbar-brand hidden-sm-down" href="{{ path('public_index') }}"><img src="{{ asset('images/USergioLogo.svg') }}" alt="USergio" width="35" heigth = "40"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#menuDefault"
            aria-controls="menuDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    {% set current_route = app.request.attributes.get('_route') %}

    <div class="collapse navbar-collapse" id="menuDefault">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item {% if current_route in ['public_index', 'public_team'] %}active{% endif %}">
                <a class="nav-link" href="{{ path('public_index') }}" style="color:white;"><i class="fas fa-list-ol"></i> Scoreboard</a>
            </li>
            <li class="nav-item {% if current_route in ['public_index', 'public_team'] %}active{% endif %}">
                <a class="nav-link" href="{{ path('public_about') }}" style="color:white;"><i class="fa fa-users"></i> About</a>
            </li>
            <li class="nav-item {% if current_route == 'public_problems' %}active{% endif %}">
                {% if is_granted('ROLE_JURY') or (current_public_contest is not null and current_public_contest.freezeData.started) %}
                    <a class="nav-link" href="{{ path('public_problems') }}" style="color:white;">
                        <i class="fas fa-book-open"></i> Problemset
                    </a>
                {% else %}
                    <a class="nav-link disabled" style="color:white;"><i class="fas fa-book-open"></i>Problemset</a>
                {% endif %}
            </li>

            {% if is_granted('ROLE_TEAM') %}
                <li class="nav-item">
                    <a class="nav-link" href="{{ path('team_index') }}" style="color:white;">
                        <i class="fas fa-arrow-right"></i> Team
                    </a>
                </li>
            {% endif %}     

            {% if is_granted('ROLE_JURY') or is_granted('ROLE_BALLOON') %}
                <li class="nav-item" style="color:white;">
                    <a class="nav-link" href="{{ path('jury_index') }}"><i class="fas fa-arrow-right"></i> Jury</a>
                </li>
            {% endif %}
        </ul>

        {% include 'partials/menu_login_logout_button.html.twig' %}

        <ul class="navbar-nav">
            {% if current_public_contests | length > 1 %}
                {% include 'partials/menu_change_contest.html.twig' with {contest: current_public_contest, contests: current_public_contests, change_path: 'public_change_contest', show_no_contest: false} %}
            {% endif %}
        </ul>

        {% include 'partials/menu_countdown.html.twig' with {contest: current_public_contest} %}
    </div>
</nav>

<script>

    var konami = new Egg();
    var dukra = new Egg();
    var werito = new Egg();

    konami.addCode("up,up,down,down,left,right,left,right,b,a", function() {
      alert("¿Creíste que un código de 1986 te ayudaría a programar? \nEsto no es Contra. A TRABAJAR!!! \n1 de 3 secretos.");
    }, "konami-code");
    konami.addHook(function(){
      console.log("Hook called for: " + this.activeEgg.keys);
      console.log(this.activeEgg.metadata);
    });

    dukra.addCode("a,b,a,c,a,b,b", function() {
      window.open("https://youtu.be/rPsMIZrJSWU", "theFrame", "popup"); 
    }, "dukra-code");
    dukra.addHook(function(){
      console.log("Hook called for: " + this.activeEgg.keys);
      console.log(this.activeEgg.metadata);
    });

    
    konami.listen();
    dukra.listen();
  
</script>

{% include 'partials/scoreboard_progress_bar.html.twig' with {margin: -9, contest: current_public_contest} %}
